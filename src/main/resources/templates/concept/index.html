<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <title>Concepts</title>
</head>

<body>
<section layout:fragment="content">
    <h3>Concepts List/browse/search</h3>
    <div class="mb-4">
        <label for="search-input" class="form-label">Search Concepts</label>
        <input 
            type="text" 
            id="search-input" 
            class="form-control" 
            name="filter" 
            th:value="${filter}"
            placeholder="Start typing to search..."
            hx-get="/concepts/sayt"
            hx-trigger="keyup changed delay:300ms, search"
            hx-target="#results-container"
            hx-indicator="#search-indicator"
        />
        <div id="search-indicator" class="htmx-indicator mt-2">
            <div class="spinner-border spinner-border-sm text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            Searching...
        </div>
    </div>

    <div id="results-container">
        <div th:replace="concept/fragments/concept-list :: conceptList"></div>
    </div>
</section>

<footer th:fragment="footer">
    this is the footer for the index page (should replace the template)
</footer>
<th:block layout:fragment="scripts">
<!-- Custom scripts, from page: index.html -->
<script th:inline="javascript">
    console.log("Custom scripts for index.html");
</script>
</th:block>
</body>
</html>